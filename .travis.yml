# run UI test
language:android:
  components:
    - build-tools-22.0.1
    - android-22
    - extra
    - addon
    - sys-img-armeabi-v7a-android-22
before_script:
  - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
  - emulator -avd test -no-skin -no-audio -no-window &
  - android-wait-for-emulator
  - adb shell input keyevent 82 &
script:
    - ./gradlew connectedAndroidTest

# run Unit test
#language: android
#android:
#    components:
#        - build-tools-26.0.1
#        - android-26
#        - tools
#        - build-tools-23.0.1
#        - platform-tools
#        - android-23
#
#script:
#   - bash gradlew test jacocoTestReport
#
#
#after_success:
#    - bash <(curl -s https://codecov.io/bash)


#script:
##    - ./gradlew clean
##    - ./gradlew jacocoTestReport
##    - echo no | android create avd --force -n test -t $ANDROID_TARGET --abi $ANDROID_ABI
##    - emulator -avd test -no-skin -no-audio -no-window &
##    - android-wait-for-emulator
##    - adb shell setprop dalvik.vm.dexopt-flags v=n,o=v
#    - ./gradlew build connectedCheck
